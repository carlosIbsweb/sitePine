(function($){$.fn.wkcontact=function(){$(document).on('modalform',function(){$('.wkcontact .wkcontactinner').css({"margin-top":'20px'});});$(document).on("wkcontact",function(evt,formtitle,formid){$("body").prepend('<div class="wkcontact"><div class="wkcontactinner"><div class="wkcontactcontent"><span class="wkclose"><img src="../modules/mod_wkcontact/assets/images/wkbtn-close.png" alt="Close" /></span><div class="wk-container"><img src="../modules/mod_wkcontact/assets/images/wkloading.gif" alt="Loading..." /></div></div></div></div><div class="wkcontactbg"></div>'); $(".wkcontactcontent").addClass("animated bounceInDown");$(".wkcontactbg").addClass("animated fadeIn");$(document).trigger('modalform');$(".wkcontactcontent .wk-container").load('../modules/mod_wkcontact/tmpl/default_form.php?formid='+formid,function(){true;});$(document).on("click",".wkclose",function(){$(".wkcontactcontent").removeClass("animated bounceInDown");$(".wkcontactbg").removeClass("animated fadeIn");$(".wkcontactcontent").addClass("animated bounceOutUp");setTimeout(function(){$(".wkcontactbg").addClass("animated fadeOut");$("body").css({"overflow-y":"auto"});$(".wkcontact").css({"overflow-y":"hidden"});},600);setTimeout(function(){$(".wkcontact").remove();$(".wkcontactbg ").remove();},1200);$(window).resize(function(){$(document).trigger('modalform');});}); $("body").css({"overflow-y":"hidden"});});var type=$('#wkContact').data('type');if(type=='modal'){$(document).on("click",".wkcontactbtnmodal",function(){var formtitle=$(this).data('formtitle');var formid=$(this).data('formid');$(document).trigger('wkcontact',[formtitle,formid]);});}
if(type=='fixed'){var formid=$("#wkContact").data('formid');$("#wkContact .wk-content").html('<img src="../modules/mod_wkcontact/assets/images/loadingfixed.gif" alt="Loading..." />').fadeIn('slow');$("#wkContact .wk-content").load('../modules/mod_wkcontact/tmpl/default_form.php?formid='+formid,function(){});} 
$(document).on("wkcontact-form",function(event){var $self=$('.wkcontact-form');var value=$('.wkcontact-form').serializeArray();$(".wkstatus").html('<img src="../modules/mod_wkcontact/assets/images/loadstatus.gif" alt="Loading..." />').fadeIn('slow');request={'option':'com_ajax','module':'wkcontact','data':value,'format':'raw'};$.ajax({type:'POST',data:request,success:function(response){setTimeout(function(){$(".wkstatus").html(response).fadeIn('slow');},1200);}});return false;});$(document).on("submit",".wkcontact-form",function(){ var inEmpty=$("[data-requiredwk]").filter(function(){return!this.value;}).get();if(inEmpty.length){$("[data-requiredwk]").addClass('isEmpty');$(inEmpty).addClass('invalid');if($(".isWkFormEmpty").length==0){$(".wkcontact-form .wkstatus").html("<div class='isWkFormEmpty tada animated'>"+$('.wkrequired').data('wkrequiremen')+"</div>");}
return false;}else{$(".isWkFormEmpty").removeClass("tada").addClass("bounceOut");$(".isWkFormEmptyError").removeClass("tada").addClass("bounceOut");$(".isWkFormEmptySucess").removeClass("bouceIn").addClass("bounceOut");if($(".isWkFormEmpty").length!=0||$(".isWkFormEmptyError").length!=0||$(".isWkFormEmptySucess").length!=0){setTimeout(function(){$(document).trigger("wkcontact-form");},800);}else{$(document).trigger("wkcontact-form");}
return false;}});$(document).on("keyup",".isEmpty",function(){if($(this).val().length!=0){$(this).removeClass('invalid');}else{$(this).addClass('invalid');}});};}(jQuery));