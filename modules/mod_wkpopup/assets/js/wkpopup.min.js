(function($){$.fn.wkpopup=function(opts){var wkpdefault=$.extend({mwidth:"560",animateIn:"bounceIn",animateOut:"bounceOutUp",bshadow:1,imgclose:'',imgcloseb:''},opts);var dp=$('.wkp-modal');$("body").css({"overflow-y":"hidden"}); if(dp.data("link")!=""){var linka='<a href="'+dp.data("link")+'" target="'+dp.data("target")+'" >';var linkaf='</a>';}else{var linka="";var linkaf="";}
setTimeout(function(){$("body").prepend('<div class="wkp-modalbg fadeIn animated"></div>');},800);setTimeout(function(){$("body").prepend('<div id="wkp-modal"><span class="wkpCloseBtn wkpClose"></span><div class="wkp-content '+opts.animateIn+'">'+linka+'<div class="wkp-content-inner"></div>'+linkaf+'</div></div>');if(dp.data("image")){if(dp.data("image")=="Error"){var dUrl='<div class="wkp-custom wkp-error">Empty field error!</div>';}else{var dUrl='<img class="wkp-image" src="'+dp.data('image')+'"  alt="'+dp.data("alt")+'" />';}
$(".wkp-content").css({"display":"table",});$(".wkp-image").css({"display":"table","max-width":opts.mwidth});}
if(dp.data("video")){var dUrl='<iframe src="'+dp.data('video')+'" frameborder="0" width="'+opts.mwidth+'" allowfullscreen></iframe>';$(".wkp-content-inner").css({"padding-bottom":"56.25%"});}
if(dp.data("custom")){var dUrl='<div class="wkp-custom">'+$(".wkp-mcustom").html()+'</div>';$(".wkp-content").css({"display":"table"});} 
$(".wkpClose").click(function(){setTimeout(function(){$('.wkp-modalbg').addClass("fadeOut animated");$('.wkpClose').addClass("fadeOut");},600);setTimeout(function(){$('#wkp-modal').remove();$('.wkp-modalbg').remove();$("body").css({"overflow-y":"auto"});},1200);$('.wkp-content').addClass(opts.animateOut);$('.wkp-content').css({"animation-duration":dp.data('durationout')+'ms',"animation-name":opts.animateOut,});});$(".wkp-content-inner").prepend(dUrl);$(".wkp-content").css({"max-width":opts.mwidth,"animation-duration":dp.data('durationin')+'ms',"animation-name":opts.animateIn,});var dm=$('#wkp-modal');var wkpWidth=(($(window).outerHeight())/2)-$('.wkp-content-inner').outerHeight()/2;$(".wkp-content").css({"margin-top":wkpWidth});dm.css({position:"fixed",});if(opts.bshadow===1){$(".wkp-content").css({"box-shadow":"0px 2px  3px #000"});}
var winHeight=(($(window).outerHeight())/2-5)-$('.wkp-content-inner').outerHeight()/2;var winWidth=(($(window).outerWidth())/2+10)-$('.wkp-content-inner').outerWidth()/2;if(winHeight<0){$(".wkp-content").css({"margin-top":25,"margin-bottom":25,});$(".wkp-image").css({"max-height":$(window).outerHeight()-54});$("body").css({"overflow-y":"hidden"});$(".wkpCloseBtn").css({"background-color":"rgba(0, 0, 0, 0.33)",});}
if(winWidth<=15){$(".wkp-content").css({"margin-left":10,"margin-right":10,});}
if(winWidth<=60||winHeight<=30){$(".wkpCloseBtn").css({"background":'url('+opts.imgclose+') center center no-repeat',"background-color":"rgba(0, 0, 0, 0.33)",});}else{$(".wkpCloseBtn").css({"background":'url('+opts.imgcloseb+') center center no-repeat',"background-color":"transparent",});}
$(window).resize(function(){var winHeight=(($(window).outerHeight())/2)-$('.wkp-content-inner').outerHeight()/2;var winWidth=(($(window).outerWidth())/2+10)-$('.wkp-content-inner').outerWidth()/2;if(winHeight>25){$(".wkp-image").css({"max-height":$(window).outerHeight()-54});$(".wkp-content").css({"margin-top":(($(window).outerHeight())/2-5)-$('.wkp-content-inner').outerHeight()/2,});dm.css({position:"fixed",});}else{$(".wkp-image").css({"max-height":$(window).outerHeight()-54});$(".wkp-content").css({"margin-top":25,"margin-bottom":25,});if(!dp.data("image")){$("body").css({"overflow-y":"hidden",});}}
var winHeight=(($(window).outerHeight())/2)-$('.wkp-content-inner').outerHeight()/2;var winWidth=(($(window).outerWidth()/2)+10)-$('.wkp-content-inner').outerWidth()/2;if(winWidth<=15){$(".wkp-content").css({"margin-left":10,"margin-right":10,});}else{$(".wkp-content").css({"margin-left":'auto',"margin-right":'auto',});}
if(winWidth<=60||winHeight<=60){$(".wkpCloseBtn").css({"background":'url('+opts.imgclose+') center center no-repeat',"background-color":"rgba(0, 0, 0, 0.33)",});}else{$(".wkpCloseBtn").css({"background":'url('+opts.imgcloseb+') center center no-repeat',"background-color":"transparent",});}});setTimeout(function(){$('.wkp-modalbg').toggleClass("fadeIn animated");$('.wkp-content').toggleClass(opts.animateIn);},1300);setTimeout(function(){$('.wkpCloseBtn').addClass('animated bounceInDown').show();},1200);$(".wkpImgHeight").remove();$(".wkp-mcustom").remove();},1200);};}(jQuery));